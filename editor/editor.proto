syntax = "proto3";

service Editor {
    rpc Update(stream Op) returns (stream Op) {}
    rpc State(Nil) returns (DocState) {}
}

message Op {
    int64 sender = 1;
    int32 type = 2;
    int64 version = 3;
    int64 pos = 4;
    bytes char = 5;
}

message DocState {
    int64 version = 1;
    bytes buffer = 2;
}

message Nil {
}
